{% extends "base.html" %}

{% block title %}
  {{ title }}
{% endblock title %}

{% block content %}
<h4 class="center-align">Edit Staff</h4>
{% for msg in success %}
<div class="toast green active white-text top">
  <i>done</i>
  <span>{{ msg }}</span>
</div>
{% endfor %}

{% if errors %}
<div class="toast red active white-text top">
  <i>error</i>
  <span>You have an error</span>
</div>
{% endif %}
<form action="edit-staff.php?id={{ data.staff_id }}" method="post" enctype="multipart/form-data">
  <div class="center-align middle-align">
    <div class="">
      <div class="profile-wrapper">
        <img src="../images/passport/{{ data.passport }}" class="img-crop" alt="">
        <label for="image" class="img-add-btn" id="img-add-btn">
          <i class="blue-dark-1">add_photo_alternate_sharp</i>
        </label>
        <input type="hidden" name="staff_id" value="{{ data.staff_id }}">
        <input type="file" class="profile-image" id="image" name="photo">
      </div>
      <div><button type="submit" name="change_photo" class="green">change photo</button></div>
      <span class="small-text red-text">
        {% if errors.passport_photo_err %} 
          {{ errors.passport_photo_err }} 
        {% endif %}
      </span>
    </div>
  </div>
</form>

<form action="edit-staff.php?id={{ data.staff_id }}" method="post">
  <div class="container padding center-align middle-align">
    <div class="card large-width">
      <input type="hidden" name="staff_id" value="{{ data.staff_id }}">
      <div class="field {% if errors.fullname_err %} invalid {% endif %} label border">
        <input type="text" name="fullname" value="{{ data.fullname }}">
        <label>Fullname</label>
        <span class="error">
          {% if errors.fullname_err %} 
            {{ errors.fullname_err }} 
          {% endif %}
        </span>
      </div>
      <div class="field {% if errors.phone_err %} invalid {% endif %} label border">
        <input type="text" name="phone" value="{{ data.phone }}">
        <label>Phone</label>
        <span class="error">
          {% if errors.phone_err %} 
            {{ errors.phone_err }} 
          {% endif %}
        </span>
      </div>
      <div class="field {% if errors.email_err %} invalid {% endif %} label border">
        <input type="email" name="email" value="{{ data.email }}">
        <label>Email</label>
        <span class="error">
          {% if errors.email_err %} 
            {{ errors.email_err }} 
          {% endif %}
        </span>
      </div>
      <div class="field {% if errors.gender_err %} invalid {% endif %} label suffix border">
        <label class="active">Gender</label>
        <select name="gender">
          <option></option>
          <option value="male" {{ (data.gender == 'male' ? 'selected' : '') }}>Male</option>
          <option value="female" {{ (data.gender == 'female' ? 'selected' : '') }}>Female</option>
        </select>
        <i>arrow_drop_down</i>
        <span class="error">
          {% if errors.gender_err %} 
            {{ errors.gender_err }} 
          {% endif %}
        </span>
      </div>

      <!-- Age -->
      <div class="field {% if errors.age_err %} invalid {% endif %} label border">
        <input type="text" name="age" value="{{ data.age }}">
        <label>Age</label>
        <span class="error">
          {% if errors.age_err %} 
            {{ errors.age_err }} 
          {% endif %}
        </span>
      </div>

      <!-- years of experience -->
      <div class="field {% if errors.years_of_experience_err %} invalid {% endif %} label border">
        <input type="experience" name="experience" value="{{ data.year_of_experience }}">
        <label>Years of experience</label>
        <span class="error">
          {% if errors.years_of_experience_err %} 
            {{ errors.years_of_experience_err }} 
          {% endif %}
        </span>
      </div>

      <!-- dissablities -->
      <div class="field textarea {% if errors.dissabilities_err %} invalid {% endif %} label border">
        <textarea name="dissabilities">{{ data.dissabilities }}</textarea>
        <label>Dissabilities</label>
        <span class="error">
          {% if errors.dissabilities_err %} 
            {{ errors.dissabilities_err }} 
          {% endif %}
        </span>
      </div>
      <div class="field app-color white-text rounded small large-width">
        <input type="submit" class="cursor" name="update_data" value="Save">
      </div>
    </div>
  </div>
</form>
{% endblock content %}